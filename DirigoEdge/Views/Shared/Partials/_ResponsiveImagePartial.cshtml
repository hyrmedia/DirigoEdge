@using DirigoEdge.CustomUtils
@model ResponsiveImageUtils.ResponsiveImageObject

@{
    var sources = new List<string>();

    foreach (var route in ResponsiveImageUtils.ResponsiveImageRoutes)
    {
        sources.Add(String.Format("/{0}{1} {2}w", route.Path, Model.ImagePath.Replace(" ", "%20"), route.Width));
    }

    sources.Add(String.Format("{0} {1}w", Model.ImagePath.Replace(" ", "%20"), Model.Width));
}

<img sizes="@ResponsiveImageUtils.ResponsiveImageSizes"
     srcset="@String.Join(", ", sources)"
     class="@Model.ClassName"
     alt="@Model.AltText">