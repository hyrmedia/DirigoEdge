@using DirigoEdgeCore.Utils
@model DirigoEdge.Areas.Admin.Models.ViewModels.EditSchemaViewModel

@{
    ViewBag.Title = "Edit Schema";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}


<div class="editSchema" data-id="@Model.TheSchema.SchemaId">
    <div class="row">
        <div class="col-xs-12">
            <h3>Edit Schema @Html.Partial("Partials/BookmarkButtonPartial")</h3>
        </div>
    </div>

    <div class="row">
        <div class="col-md-9">

            <div class="schema-name">
                <input id="SchemaName" class="form-control input-lg" placeholder="Schema Name" type="text" value="@Model.TheSchema.DisplayName" autocomplete="off"/>
            </div>

            <div class="schema">
                <ul class="schema-fields">
                    <li class="schema-field field-list">
                        <div class="group-label">Slides</div>
                        <ul class="schema-fields">
                            <li class="schema-field field-image">
                                <label>Image Field</label>
                                <input type="text" value="http://fillmurray.com/500/300"/>
                                <button class="btn btn-primary filebrowser">Choose Image</button>
                                <img src="http://fillmurray.com/500/300">
                            </li>
                            <li class="schema-field field-text">
                                <label>Headline</label>
                                <input type="text" />
                            </li>
                        </ul>
                    </li>
                    <li class="schema-field field-text">
                        <label>Headline</label>
                        <input type="text"/>
                    </li>
                    <li class="schema-field field-text">
                        <label>Headline</label>
                        <input type="text"/>
                    </li>
                    <li class="schema-field field-text">
                        <label>Headline</label>
                        <input type="text" />
                    </li>
                </ul>
            </div>

        </div>

        <div class="col-md-3">
            <div class="panel container-fluid">
                <h4>Settings</h4>

                <div class="saveContainer">
                    <button id="SaveSchemaButton" class="btn btn-primary mobileMarginBottom">Save Schema</button>
                    <div id="SaveSpinner" class="standaloneSpinner"></div>
                </div>
            </div>

            <div class="panel container-fluid">
                <h4>Fields Of Dreams</h4>

                <div class="field-selector">
                    <ul>
                        <li data-type="text">
                            <div class="btn btn-primary field-button"><i class="fa fa-font"></i> Text</div>
                        </li>
                        <li data-type="image">
                            <div class="btn btn-primary field-button"><i class="fa fa-picture-o"></i> Image</div>
                        </li>
                        <li data-type="paragraph">
                            <div class="btn btn-primary field-button"><i class="fa fa-paragraph"></i> Paragraph</div>
                        </li>
                        <li data-type="wysiwyg">
                            <div class="btn btn-primary field-button"><i class="fa fa-pencil"></i> WYSIWYG</div>
                        </li>
                        <li data-type="checkboxes">
                            <div class="btn btn-primary field-button"><i class="fa fa-square-o"></i> Checkboxes</div>
                        </li>
                        <li data-type="multiple-choice">
                            <div class="btn btn-primary field-button"><i class="fa fa-circle-o"></i> Multiple Choice</div>
                        </li>
                        <li data-type="date">
                            <div class="btn btn-primary field-button"><i class="fa fa-calendar"></i> Date</div>
                        </li>
                        <li data-type="dropdown">
                            <div class="btn btn-primary field-button"><i class="fa fa-caret-down"></i> Dropdown</div>
                        </li>
                        <li data-type="module">
                            <div class="btn btn-primary field-button"><i class="fa fa-caret-down"></i> Module</div>
                        </li>
                        <li data-type="list">
                            <div class="btn btn-primary field-button"><i class="fa fa-list"></i> List</div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

@* todo: move to partial(s) *@
<script id="field-template-text" type="text/x-handlebars-template">
    <li class="schema-field field-text">
        <label>{{Label}}</label>
        <input type="text" value="{{Value}}" placeholder="{{Placeholder}}"/>
    </li>
</script>

<script id="field-template-image" type="text/x-handlebars-template">
    <li class="schema-field field-image">
        <label>{{Label}}</label>
        <input type="text" value="{{Value}}" placeholder="{{Placeholder}}" />
        <button class="btn btn-primary filebrowser">Choose Image</button>
        <img src="{{Value}}">
    </li>
</script>

@section Styles {

}

@section Scripts {

    <script src="/Areas/Admin/Scripts/handlebars/handlebars.js"></script>
    <script src="/Areas/Admin/Scripts/schemaEditor.js"></script>

    <script>
        // Setup the data for loading
        ODATA = @Html.Raw(Model.TheSchema.JSONData);
    </script>
}
